<!DOCTYPE html>
<html>
<head>
	<link rel="stylesheet" href="../node_modules/handsontable/dist/handsontable.css">
	<script src="../node_modules/handsontable/dist/handsontable.js"></script>
	<script src="../node_modules/papaparse/papaparse.js"></script>

	<link rel="stylesheet" href="../node_modules/@fortawesome/fontawesome-free/css/all.css">

	<link rel="stylesheet" href="../node_modules/bulma/css/bulma.min.css">
	<link rel="stylesheet" href="../node_modules/bulma-extensions/dist/css/bulma-extensions.min.css">
	<link rel="stylesheet" href="./main.css">
	<link rel="stylesheet" href="./dark.css">
</head>
<body>


<div class="all-options">

		<div class="options-bar">
			<div>
					<div  class="options-title clickable" onclick="toggleReadOptions()">Read options <i id="read-options-icon" class="fas fa-chevron-right"></i></div>
			</div>

			<div id="read-options-content" class="options-content">
				<div>

						<div class="field">
								<input id="has-header" type="checkbox" name="has-header" class="switch is-rounded" checked="checked" onchange="setHasHeader()">
								<label for="has-header">
									<span>Has header</span>
									<span class="tooltip is-tooltip-bottom" data-tooltip="The first row is used as header">
											<i class="fas fa-question-circle"></i>
									</span>
								</label>
							</div>

					<!-- this makes the row data invalid if we have more than 1 col-->
					<!-- <div class="field">
							<input id="skip-empty-lines" type="checkbox" name="skip-empty-lines" class="switch is-rounded" checked="checked" onchange="setSkipEmptyLines()" disabled>
							<label for="skip-empty-lines">
								<span>Skip empty lines</span>
								<span class="tooltip is-tooltip-multiline" data-tooltip="If enabled empty lines will be used as row. Disabled because empty rows are invalid if we have more than 1 column.">
										<i class="fas fa-question-circle"></i>
								</span>
							</label>
					</div> -->

					<div class="flexed">
							<div class="field">
								<label>
									<span>Delimiter</span>
									<span class="clickable tooltip" data-tooltip="Set to tab character"  onclick="setReadDelimiter('\t')">⇥</span>
									<span class="tooltip" data-tooltip="Empty to auto detect">
											<i class="fas fa-question-circle"></i>
									</span>
								</label> 
								<input id="delimiter-string" class="input" type="text" placeholder="auto" oninput="setDelimiterString()">
							</div>
					
							<div class="field mar-left">
									<label>
										<span>Comment</span>
										<span class="tooltip" data-tooltip="Comments before and after csv data are preserved">
												<i class="fas fa-question-circle"></i>
										</span>
									</label>
									<input id="comment-string" class="input" type="text" placeholder="Empty for no comments" oninput="setCommentString()">
							</div>
					</div>
				

					<button class="button is-light" onclick="rereadData(t1)">
						<span>Read again</span>
						<span class="tooltip  mar-left-half" data-tooltip="The input file content is saved locally and read again">
								<i class="fas fa-question-circle"></i>
						</span>
					</button>
					
				</div>
			</div>
	</div>
	
	<div class="options-bar">

			<div>
					<div  class="options-title clickable" onclick="toggleWriteOptions()">Write options <i id="write-options-icon" class="fas fa-chevron-right"></i></div>
			</div>

			<div id="write-options-content" class="options-content">
					<div class="field">
						<input id="has-header-write" type="checkbox" name="has-header-write" class="switch is-rounded" checked="checked" onchange="setHasHeaderWrite()">
						<label for="has-header-write">
							<span>Write header</span>
							<span class="tooltip is-tooltip-bottom" data-tooltip="Checked: writes the header row, unchecked: not">
									<i class="fas fa-question-circle"></i>
							</span>
						</label>
					</div>
			
					<div class="flexed">
							<div class="field">
									<label for="delimiter-string-write">
											<label>
													<span>Delimiter</span>
													<span class="clickable tooltip" data-tooltip="Set to tab character" onclick="setWriteDelimiter('\t')">⇥</span>
													<span class="tooltip" data-tooltip="Empty to use delimiter from read">
															<i class="fas fa-question-circle"></i>
													</span>
												</label> 
									</label>
									<input id="delimiter-string-write" class="input" type="text" placeholder="auto" oninput="setDelimiterStringWrite()">
								</div>
						
								<div class="field mar-left">
										<label for="comment-string-write">
												<label>
														<span>Comment</span>
														<span class="tooltip" data-tooltip="Comments before and after csv data are preserved">
																<i class="fas fa-question-circle"></i>
														</span>
													</label>
										</label>
										<input id="comment-string-write" class="input" type="text" placeholder="Empty for no comments" oninput="setCommentStringWrite()">
								</div>
					</div>
			
					<div class="field">
							<label for="comment-string-write">NewLine</label> 
							<div class="select">
									<select id="newline-select-write" onchange="setNewLineWrite()">
										<option value="">Same as input</option>
										<option value="crlf">Windows (CRLF)</option>
										<option value="lf">Linux/Mac (LF)</option>
									</select>
							</div>
					</div>
			</div>

	</div>
</div>



<div style="padding: 1em;background-color: black;">
	<div id="csv-editor"></div>
</div>
	

	<div>
		<button class="button is-light mar-bot" onclick="updateCsvPreview()">Preview</button>
		<textarea id="csv-preview" class="textarea"></textarea>
	</div>

	<script src="main.js"></script>
</body>